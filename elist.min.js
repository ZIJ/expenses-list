(function(){function c(a){this.element=a?a:null}"use strict",window.elist||(window.elist={});var a=window.elist,b=window.document;a.ready=function(c){return b.addEventListener("DOMContentLoaded",c,!1),a},a.empty=function(a){var b=a.childNodes;for(var c=0;c<b.length;c+=1)a.removeChild(b[c]);return a},a.byId=function(a){var b=document.getElementById(a);return new c(b)},a.wrap=function(a){return new c(a)},c.prototype.isEmpty=function(){return!this.element},c.prototype.remove=function(){if(!this.isEmpty()){var a=this.element;a.parentNode.removeChild(a)}return this},c.prototype.append=function(a){if(!this.isEmpty()){var d=a instanceof c?a.element:a instanceof HTMLElement?a:b.createTextNode(a);this.element.appendChild(d)}return this}})(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.EventEmitter=function(){this.listeners={}},a.EventEmitter.prototype.on=function(a,b){this.listeners[a]instanceof Array||(this.listeners[a]=[]),this.listeners[a].indexOf(b)===-1&&this.listeners[a].push(b)},a.EventEmitter.prototype.off=function(a,b){if(this.listeners[a]instanceof Array){var c=this.listeners[a].indexOf(b);c!==-1&&this.listeners[a].splice(c,1)}},a.EventEmitter.prototype.emit=function(a,b){b=b||{};if(this.listeners[a]instanceof Array){var c=this.listeners[a].length;for(var d=0;d<c;d+=1)this.listeners[a][d](this,b)}}}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;Function.prototype.inheritFrom=function(a){var b=new a;this.prototype=b},a.report=function(a){throw new Error(a?a:"Something went wrong")},a.assert=function(b,c){b||a.report(c?c:"Assertion failed")}}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.ObservableProperty=function(a){this.value=a},a.ObservableProperty.inheritFrom(a.EventEmitter),a.ObservableProperty.prototype.get=function(){return this.value},a.ObservableProperty.prototype.set=function(a){this.value!==a&&(this.value=a,this.emit("change"))},a.ObservableProperty.prototype.notify=function(a){this.on("change",a)},a.ObservableProperty.prototype.ignore=function(a){this.off("change",a)}}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.BaseModel=function(a,b){},a.BaseModel.prototype.assign=function(b){typeof b!="object"&&a.report("Properties should be object");for(var c in b)b.hasOwnProperty(c)&&(this[c]instanceof a.ObservableProperty||a.report("No such ObservableProperty: "+c),this[c].set(b[c]))},a.BaseModel.prototype.newId=function(b){return typeof b!="number"?a.report("ID should be number"):b<0?a.report("ID should be positive"):b!==Math.floor(b)&&a.report("ID should be integer"),b},a.BaseModel.prototype.newProp=function(b){return new a.ObservableProperty(b)}}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.ExpenseModel=function(a,b){this.id=this.newId(a),this.description=this.newProp(""),this.amount=this.newProp(0),this.date=this.newProp(new Date),this.isActive=this.newProp(!0),b!==undefined&&this.assign(b)},a.ExpenseModel.inheritFrom(a.BaseModel)}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.BaseView=function(){},a.BaseView.inheritFrom(a.EventEmitter),a.BaseView.prototype.renderTo=function(a){return a.appendChild(this.node),this.parentNode=a,this}}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.ExpenseView=function(a){this.model=a,this.parentNode=null,this.node=document.createElement("tr");for(var b=0;b<6;b+=1)this.node.appendChild(document.createElement("td"));this.viewDescription()},a.ExpenseView.inheritFrom(a.BaseView),a.ExpenseView.prototype.viewDescription=function(){var b=this.model,c=this.node.children[0],d=function(){var d=document.createTextNode(b.description.get());a.empty(c).appendChild(d)};b.description.notify(d),d()}}(),function(){function b(a,b){this.parentNode=b.parentNode,this.node=document.createTextNode(a.value),this.parentNode.appendChild(this.node),a.subscribe(function(){this.node.replaceWholeText(a.value)})}"use strict",window.elist||(window.elist={});var a=window.elist}(),function(){"use strict",window.elist||(window.elist={});var a=window.elist;a.ready(function(){var b=new a.ExpenseModel(13);b.description.set("Description");var c=new a.ExpenseView(b),d=document.createElement("table");c.renderTo(d),document.body.appendChild(d),setTimeout(function(){b.description.set("Updated")},1e3)})}();